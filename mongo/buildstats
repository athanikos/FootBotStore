
db.events.find({league_name:"Eredivisie"}).sort({ startingat:1 }).forEach((it)=> { 
   var team1 = it.hometeamname;
   var team2 = it.awayteamname;
   var dt = it.starting_at;
   var team1last5matches = db.events.find( {$and:  [{$or:[{hometeamname:team1} ,{awayteamname:team1}]}, {startingat:{$lt:it.startingat}}  ]  } ).sort({ startingat:-1 }).limit(10);
   print(team1);
   team1last5matches.forEach((it)=> { 
      
      print(it.startingat);
   });
   
   


   // get team get league and date 
   // get five last matches 
   // output to array bookstats.goalsScored
   //                 bookstats.goalsConceded 
   //                 bookstats.goalsScroredLast15
   //                 bookstats.goalsConcededLast15    
   //                 bookstats.gamenumber
   // calculate last game if empty or more than 3 months back   set to points to 0 
});


